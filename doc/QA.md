# QA

## 为什么 rust 在设计值类型时采用跳跃式的字节数呢

我们看到像 i8\i16\i32\i64\i128 这样的设计，背后是 1\2\4\8\16 个字节长度，为什么不采用线性设计呢 1\2\3\4\5\6...个字节长度？

回答：
设计编程语言的值类型存储字节数时,的确需要考虑到系统和硬件的现实设计。
主要原因有:

1. 需要考虑不同 CPU 和操作系统的寄存器位数、缓存线大小、内存对齐方式等,以便语言中的值类型可以高效利用底层硬件。
2. 需要考虑不同系统 API 和 ABI(应用二进制接口)中的数据类型,以便语言可以无缝对接外部函数库和系统调用。
3. 需要考虑跨平台可移植性,字节数设计合理可以减少不同系统之间的转换损耗。
4. 需要考虑常见数据格式和协议中的字段大小,以优化解析/序列化的性能。
5. 需要考虑向后兼容性,与之前版本的代码和数据格式保持一致。
6. 也需要考虑语义的清晰性、易用性和扩展性等语言设计原则。

所以语言设计者需要在理想语义和实际系统之间进行平衡和折衷,才能设计出对系统友好且易于使用的类型系统。这也是设计语言的挑战之一。

## 字符编码相关

Unicode 字符集
UTF-8 编码
。。。
